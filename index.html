<!DOCTYPE html>
<html>
<head>
  <title>News Dashboard</title>
</head>
<body>
  <h1>Latest News</h1>
  <button onclick="loadNews()">Refresh</button>
  <ul id="newsList"></ul>

  <script>
    async function loadNews() {
      try {
        // URL of the blob where Function App writes news
        const containerUrl = "https://mlsanewsdashboard.blob.core.windows.net/news-data/latest-headlines.json";
        
        const res = await fetch(containerUrl);
        const data = await res.json();

        const newsList = document.getElementById("newsList");
        newsList.innerHTML = "";

        data.articles.forEach(article => {
          const li = document.createElement("li");
          li.innerHTML = `<a href="${article.url}" target="_blank">${article.title}</a> (${article.source.name})`;
          newsList.appendChild(li);
        });
      } catch (err) {
        console.error("Failed to load news:", err);
      }
    }

    loadNews(); // load when page opens
  </script>
</body>
</html>
